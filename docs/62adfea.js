(window.webpackJsonp=window.webpackJsonp||[]).push([[21,5,8,9],{532:function(e,t,r){"use strict";r.r(t);r(32),r(23),r(29),r(41),r(21),r(42);var n=r(14),o=r(15);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"PipelineSelector",props:{value:{type:String,required:!0,default:""},entryId:{type:String,required:!0,default:""},formData:{type:Object,required:!1}},data:function(){return{internalValue:this.value}},computed:c({},Object(o.c)({selectedPipelineData:"selectedPipelineData"})),watch:{value:function(e){this.internalValue=e},selectedPipelineData:function(e){this.$emit("update:value",e),this.updateStore({entryId:this.entryId,value:this.formData})}},methods:c({},Object(o.b)({showNav:"showNav",updateStore:"updateStore"}))},m=r(6),component=Object(m.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"container",staticClass:"form-group",on:{click:function(t){return t.preventDefault(),e.showNav({type:"VIEW_DATA"})}}},[r("input",{staticClass:"form-control disabled",attrs:{disabled:"",placeholder:"Select variable"},domProps:{value:e.selectedPipelineData||e.internalValue}})])}),[],!1,null,null,null);t.default=component.exports},533:function(e,t,r){"use strict";r.r(t);r(32),r(23),r(29),r(41),r(21),r(42);var n=r(14),o=(r(108),r(15));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"StringListSelector",props:{value:{type:String,required:!0,default:""},entryId:{type:String,required:!0,default:""},formData:{type:Object,required:!1},property:{type:Object,required:!1}},data:function(){return{internalValue:this.value}},watch:{value:function(e){this.internalValue=e},internalValue:function(e){this.$emit("update:value",e),this.updateStore({entryId:this.entryId,value:this.formData})}},methods:c(c({},Object(o.b)({showNav:"showNav",updateStore:"updateStore"})),{},{addItem:function(){this.internalValue.push("")},removeItem:function(e){this.internalValue.splice(e,1)}})},m=r(6),component=Object(m.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"container",staticClass:"form-group"},[e.internalValue&&e.internalValue.length?r("div",e._l(e.internalValue,(function(t,n){return r("div",{key:t,staticClass:"input-group m-b-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.internalValue[n],expression:"internalValue[index]"}],staticClass:"form-control",attrs:{placeholder:e.property.description+(e.property.isOptional?"":" *"),required:!e.property.isOptional,type:"text"},domProps:{value:e.internalValue[n]},on:{input:function(t){t.target.composing||e.$set(e.internalValue,n,t.target.value)}}}),e._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.removeItem(n)}}},[r("fa",{attrs:{icon:["fas","xmark"]}})],1)])})),0):e._e(),e._v(" "),r("div",[r("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"button"},on:{click:function(t){return e.addItem()}}},[r("fa",{attrs:{icon:["fas","plus"]}}),e._v(" Add\n    ")],1)])])}),[],!1,null,null,null);t.default=component.exports},534:function(e,t,r){var content=r(537);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("49336820",content,!0,{sourceMap:!1})},535:function(e,t,r){"use strict";r.r(t);r(23),r(29),r(41),r(42);var n=r(14),o=r(8),l=(r(46),r(21),r(30),r(32),r(15)),c=r(33),f=r(532),m=r(533);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"FormBuilder",components:{PipelineSelector:f.default,StringListSelector:m.default},props:{fields:{type:Array,default:null},model:{type:Object,default:null},entry:{type:String,default:null}},data:function(){return{currentTab:"",formData:{},cmOptions:{mode:"text/x-groovy",tabSize:4,styleActiveLine:!0,autofocus:!0,lineNumbers:!0,line:!0,matchBrackets:!0}}},fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.formData={},t.next=3,c.a.getObjectCopy(e.model);case 3:e.formData=t.sent,e.fields.forEach((function(t){e.initDefault(t)})),e.currentTab="";case 6:case"end":return t.stop()}}),t)})))()},watch:{model:"$fetch"},methods:y(y({},Object(l.b)({updateStore:"updateStore"})),{},{initDefault:function(e){e&&this.formData&&!this.formData[e.name]&&(this.formData[e.name]=this.formData&&this.formData[e.name]?this.formData[e.name]:e.defaultValue)},fieldsMapped:function(){return c.a.groupBy(this.fields,"group")},fieldsByGroup:function(e){var t=this.fieldsMapped();return e?t[e]:t[Object.keys(t)[0]]},getTabClasses:function(e){if(!this.currentTab){var t=this.fieldsMapped();this.currentTab=Object.keys(t)[0]}return this.currentTab===e?"btn-default":"btn-primary"}})},O=(r(536),r(6)),component=Object(O.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.fields&&e.fields.length?r("div",{staticClass:"form-builder"},[Object.keys(e.fieldsMapped()).length>1?r("div",{staticClass:"m-b-10"},e._l(e.fieldsMapped(),(function(t,n){return r("button",{key:n,staticClass:"btn m-r-3",class:e.getTabClasses(n),attrs:{type:"button"},on:{click:function(t){e.currentTab=n}}},[e._v("\n      "+e._s(n)+"\n    ")])})),0):e._e(),e._v(" "),e._l(e.fieldsByGroup(e.currentTab),(function(t){return r("div",{key:t.name,staticClass:"m-b-10"},["STRING"===t.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData[t.name],expression:"formData[property.name]"}],staticClass:"form-control",attrs:{placeholder:t.description+(t.isOptional?"":" *"),required:!t.isOptional,type:"text"},domProps:{value:e.formData[t.name]},on:{change:function(t){return e.updateStore({entryId:e.entry,value:e.formData})},input:function(r){r.target.composing||e.$set(e.formData,t.name,r.target.value)}}}):e._e(),e._v(" "),"NUMBER"===t.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData[t.name],expression:"formData[property.name]"}],staticClass:"form-control",attrs:{placeholder:t.description+(t.isOptional?"":" *"),required:!t.isOptional,type:"number"},domProps:{value:e.formData[t.name]},on:{change:function(t){return e.updateStore({entryId:e.entry,value:e.formData})},input:function(r){r.target.composing||e.$set(e.formData,t.name,r.target.value)}}}):e._e(),e._v(" "),"SCRIPT"===t.type?r("client-only",[r("codemirror",{attrs:{options:e.cmOptions,placeholder:t.description+(t.isOptional?"":" *"),required:!t.isOptional},on:{input:function(t){return e.updateStore({entryId:e.entry,value:e.formData})}},model:{value:e.formData[t.name],callback:function(r){e.$set(e.formData,t.name,r)},expression:"formData[property.name]"}})],1):e._e(),e._v(" "),"BOOLEAN"===t.type?r("label",{staticClass:"form-control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData[t.name],expression:"formData[property.name]"}],staticClass:"ios-toggle",attrs:{required:!t.isOptional,type:"checkbox"},domProps:{checked:Array.isArray(e.formData[t.name])?e._i(e.formData[t.name],null)>-1:e.formData[t.name]},on:{change:[function(r){var n=e.formData[t.name],o=r.target,l=!!o.checked;if(Array.isArray(n)){var c=e._i(n,null);o.checked?c<0&&e.$set(e.formData,t.name,n.concat([null])):c>-1&&e.$set(e.formData,t.name,n.slice(0,c).concat(n.slice(c+1)))}else e.$set(e.formData,t.name,l)},function(t){return e.updateStore({entryId:e.entry,value:e.formData})}]}}),e._v(" "),r("span"),e._v(" "),r("span",{staticClass:"m-lr-2"},[e._v(e._s(t.description+(t.isOptional?"":" *")))])]):e._e(),e._v(" "),"ENUM"===t.type?r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData[t.name],expression:"formData[property.name]"}],staticClass:"form-control form-control-native",on:{change:[function(r){var n=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.formData,t.name,r.target.multiple?n:n[0])},function(t){return e.updateStore({entryId:e.entry,value:e.formData})}]}},e._l(t.enums,(function(n){return r("option",{key:n,attrs:{label:n},domProps:{value:n,selected:e.formData&&e.formData[t.name]&&e.formData[t.name]===n}},[e._v("\n        "+e._s(n)+"\n      ")])})),0):e._e(),e._v(" "),"LIST_STRING"===t.type?r("client-only",[r("StringListSelector",{attrs:{value:e.formData[t.name],"form-data":e.formData,"entry-id":e.entry,property:t},on:{"update:value":function(r){return e.$set(e.formData,t.name,r)}}})],1):e._e(),e._v(" "),"PIPELINE_PATH_STRING"===t.type?r("client-only",[r("PipelineSelector",{attrs:{value:e.formData[t.name],"form-data":e.formData,"entry-id":e.entry},on:{"update:value":function(r){return e.$set(e.formData,t.name,r)}}})],1):e._e()],1)}))],2):e._e()}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{StringListSelector:r(533).default,PipelineSelector:r(532).default})},536:function(e,t,r){"use strict";r(534)},537:function(e,t,r){var n=r(12)(!1);n.push([e.i,".input-group{display:flex;align-content:stretch}.input-group>input{flex:1 0}",""]),e.exports=n},569:function(e,t,r){"use strict";r.r(t);r(32),r(23),r(29),r(41),r(21),r(42);var n=r(14),o=r(8),l=(r(46),r(15));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={components:{FormBuilder:r(535).default},layout:"systems",scrollToTop:!0,asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,t.next=3,r.dispatch("getApiDetails",{path:"api/systems/model/"});case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{formData:{},storePropName:"addSystem"}},head:function(){return{title:"Add trigger"}},computed:f({},Object(l.c)({operationsModel:"operationsModel"})),watchQuery:["id"],methods:f(f({},Object(l.b)({addSystem:"addSystem"})),{},{getFields:function(){return this.operationsModel&&this.operationsModel.properties||[]},getFormData:function(){return this.system&&this.system.properties||{}},featureIsNotAvailable:function(){this.$toast.error("This feature is not yet available")}})},d=r(6),component=Object(d.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"clearfix relative"},[r("h2",{staticClass:"view-title"},[r("fa",{attrs:{icon:["fas","plus"]}}),e._v(" Create system\n    ")],1),e._v(" "),e.getFields().length?r("form",{staticClass:"m-b-20",on:{submit:function(t){return t.preventDefault(),e.addSystem({entryId:e.storePropName})}}},[e._m(0),e._v(" "),r("FormBuilder",{attrs:{model:e.getFormData(),fields:e.getFields(),entry:e.storePropName}}),e._v(" "),e._m(1)],1):e._e()])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"m-b-20"},[r("b",[e._v("Define system properties")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("\n          Create\n        ")])])}],!1,null,null,null);t.default=component.exports;installComponents(component,{FormBuilder:r(535).default})}}]);